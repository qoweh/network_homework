# ğŸ“ ê¸°ëŠ¥ë³„ í˜¸ì¶œ íë¦„ ìƒì„¸ ì¶”ì 

> ê° ë²„íŠ¼/ê¸°ëŠ¥ì´ ì–´ë–¤ íŒŒì¼ì˜ ì–´ë–¤ ë©”ì„œë“œë¥¼ ê±°ì³ê°€ëŠ”ì§€ ì¶”ì í•˜ëŠ” ë¬¸ì„œ

---

## ğŸ“Œ íŒŒì¼ ìœ„ì¹˜ ì°¸ê³ 

```
last/src/main/java/com/demo/
â”œâ”€â”€ NetworkChatApp.java     â† GUI (ì‹œì‘ì )
â”œâ”€â”€ ChatAppLayer.java       â† ì±„íŒ… ì‘ìš© ê³„ì¸µ
â”œâ”€â”€ FileAppLayer.java       â† íŒŒì¼ ì‘ìš© ê³„ì¸µ
â”œâ”€â”€ IPLayer.java            â† IP ê³„ì¸µ
â”œâ”€â”€ EthernetLayer.java      â† ì´ë”ë„· ê³„ì¸µ
â”œâ”€â”€ ARPLayer.java           â† ARP ê³„ì¸µ
â”œâ”€â”€ PhysicalLayer.java      â† ë¬¼ë¦¬ ê³„ì¸µ
â””â”€â”€ BaseLayer.java          â† ê³„ì¸µ ì¸í„°í˜ì´ìŠ¤
```

---

## 1ï¸âƒ£ ë©”ì‹œì§€ ì „ì†¡ (ì „ì†¡ ë²„íŠ¼ í´ë¦­)

### í˜¸ì¶œ ìˆœì„œ

```
[ì‚¬ìš©ì í´ë¦­: "ì „ì†¡" ë²„íŠ¼]
        â”‚
        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ NetworkChatApp.java                                         â”‚
â”‚ handleSendMessage() (ë¼ì¸ 888-915)                          â”‚
â”‚                                                             â”‚
â”‚ 1. messageField.getText() â†’ ë©”ì‹œì§€ ì½ê¸°                     â”‚
â”‚ 2. parseIpAddress() â†’ ëª©ì ì§€ IP íŒŒì‹±                        â”‚
â”‚ 3. ipLayer.useChatProtocol() â†’ í”„ë¡œí† ì½œ 253 ì„¤ì •            â”‚
â”‚ 4. chatLayer.sendMessage(message) â†’ ì—¬ê¸°ì„œ í˜¸ì¶œ!            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ChatAppLayer.java                                           â”‚
â”‚ sendMessage(String text) (ë¼ì¸ ì•½ 330-420)                  â”‚
â”‚                                                             â”‚
â”‚ 1. ìš°ì„ ìˆœìœ„ ì„¤ì •: IPLayer.setPriority(currentPriority)      â”‚
â”‚ 2. íƒ€ì„ìŠ¤íƒ¬í”„ ìƒì„±: System.currentTimeMillis()              â”‚
â”‚ 3. UTF-8 ì¸ì½”ë”©: text.getBytes(StandardCharsets.UTF_8)      â”‚
â”‚ 4. ì•”í˜¸í™” (ì˜µì…˜): applyXorEncryption(data, 0x42)            â”‚
â”‚ 5. Fragmentí™” (í•„ìš”ì‹œ): 1KB ë‹¨ìœ„ ë¶„í•                         â”‚
â”‚ 6. í—¤ë” ìƒì„±: Type + Priority + Timestamp + Seq + Total     â”‚
â”‚ 7. lowerLayer.Send(packet, length) â†’ IPLayer í˜¸ì¶œ!         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ IPLayer.java                                                â”‚
â”‚ Send(byte[] data, int length) (ë¼ì¸ ì•½ 180-250)             â”‚
â”‚                                                             â”‚
â”‚ 1. ARP ìºì‹œ ì¡°íšŒ: arpLayer.lookupArpCache(dstIp)            â”‚
â”‚    - ì—†ìœ¼ë©´ sendArpRequest() í›„ ëŒ€ê¸°                        â”‚
â”‚ 2. IP í—¤ë” ìƒì„± (20ë°”ì´íŠ¸):                                 â”‚
â”‚    - Version=4, IHL=5, TOS=ìš°ì„ ìˆœìœ„                         â”‚
â”‚    - TTL=128, Protocol=253(Chat)                            â”‚
â”‚    - Source IP, Destination IP                              â”‚
â”‚ 3. ethernetLayer.setDstMac(dstMac) â†’ ëª©ì ì§€ MAC ì„¤ì •       â”‚
â”‚ 4. lowerLayer.Send(ipPacket, length) â†’ EthernetLayer í˜¸ì¶œ! â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ EthernetLayer.java                                          â”‚
â”‚ Send(byte[] input, int length) (ë¼ì¸ ì•½ 100-150)            â”‚
â”‚                                                             â”‚
â”‚ 1. ì´ë”ë„· í—¤ë” ìƒì„± (14ë°”ì´íŠ¸):                             â”‚
â”‚    - ëª©ì ì§€ MAC (6B)                                        â”‚
â”‚    - ì¶œë°œì§€ MAC (6B)                                        â”‚
â”‚    - EtherType 0x0800 (2B)                                  â”‚
â”‚ 2. í˜ì´ë¡œë“œ ë³µì‚¬                                            â”‚
â”‚ 3. íŒ¨ë”© ì¶”ê°€ (ìµœì†Œ 60ë°”ì´íŠ¸)                                â”‚
â”‚ 4. lowerLayer.Send(frame, length) â†’ PhysicalLayer í˜¸ì¶œ!   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ PhysicalLayer.java                                          â”‚
â”‚ Send(byte[] input, int length) (ë¼ì¸ ì•½ 130-145)            â”‚
â”‚                                                             â”‚
â”‚ 1. pcap.sendPacket(ByteBuffer.wrap(input, 0, length))       â”‚
â”‚ 2. NIC(ë„¤íŠ¸ì›Œí¬ ì¹´ë“œ)ë¡œ ì „ì†¡                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                             â–¼
                    [ ë„¤íŠ¸ì›Œí¬ë¡œ ì „ì†¡ë¨ ]
```

### ì½”ë“œ í•µì‹¬ ë¶€ë¶„

**NetworkChatApp.java - handleSendMessage()**:
```java
private static void handleSendMessage() {
    String message = messageField.getText();
    if (message.isEmpty()) return;
    
    // ëª©ì ì§€ IP ì—…ë°ì´íŠ¸
    parseIpAddress(dstIpField.getText(), dstIpAddress);
    ipLayer.setDstIp(dstIpAddress);
    
    // ChatApp í”„ë¡œí† ì½œ ì‚¬ìš©
    ipLayer.useChatProtocol();
    
    // â­ ì—¬ê¸°ì„œ ChatAppLayer.sendMessage() í˜¸ì¶œ!
    if (chatLayer.sendMessage(message)) {
        logToUI("[ì „ì†¡] " + message);
        messageField.setText("");
    }
}
```

---

## 2ï¸âƒ£ ë©”ì‹œì§€ ìˆ˜ì‹  (ìë™ - ë°±ê·¸ë¼ìš´ë“œ)

### í˜¸ì¶œ ìˆœì„œ (ì—­ë°©í–¥)

```
            [ ë„¤íŠ¸ì›Œí¬ì—ì„œ íŒ¨í‚· ë„ì°© ]
                             â”‚
                             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ PhysicalLayer.java                                          â”‚
â”‚ run() ë©”ì„œë“œ - ë°±ê·¸ë¼ìš´ë“œ ìŠ¤ë ˆë“œ (ë¼ì¸ ì•½ 175-200)          â”‚
â”‚                                                             â”‚
â”‚ while (!Thread.interrupted()) {                             â”‚
â”‚     pcap.dispatch(1, (header, packet) -> {                  â”‚
â”‚         byte[] data = packet.getByteArray();                â”‚
â”‚         upperLayer.Receive(data);  â†’ EthernetLayer í˜¸ì¶œ!   â”‚
â”‚     });                                                     â”‚
â”‚ }                                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ EthernetLayer.java                                          â”‚
â”‚ Receive(byte[] input) (ë¼ì¸ ì•½ 180-250)                     â”‚
â”‚                                                             â”‚
â”‚ 1. ëª©ì ì§€ MAC í™•ì¸ (ìì‹  ë˜ëŠ” ë¸Œë¡œë“œìºìŠ¤íŠ¸?)                â”‚
â”‚ 2. EtherType ì¶”ì¶œ: (input[12] << 8) | input[13]             â”‚
â”‚ 3. ì—­ë‹¤ì¤‘í™”:                                                â”‚
â”‚    - 0x0800 â†’ ipLayer.Receive(payload)     â† IP íŒ¨í‚·       â”‚
â”‚    - 0x0806 â†’ arpLayer.Receive(payload)    â† ARP íŒ¨í‚·      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚ (EtherType = 0x0800)
                             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ IPLayer.java                                                â”‚
â”‚ Receive(byte[] input) (ë¼ì¸ ì•½ 280-350)                     â”‚
â”‚                                                             â”‚
â”‚ 1. IP í—¤ë” íŒŒì‹± (20ë°”ì´íŠ¸)                                  â”‚
â”‚ 2. Protocol ë²ˆí˜¸ ì¶”ì¶œ: input[9] & 0xFF                      â”‚
â”‚ 3. TOSì—ì„œ ìš°ì„ ìˆœìœ„ ì¶”ì¶œ                                    â”‚
â”‚ 4. ì—­ë‹¤ì¤‘í™”:                                                â”‚
â”‚    - 253 â†’ chatAppLayer.Receive(payload)   â† ì±„íŒ…!        â”‚
â”‚    - 254 â†’ fileAppLayer.Receive(payload)   â† íŒŒì¼!        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚ (Protocol = 253)
                             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ChatAppLayer.java                                           â”‚
â”‚ Receive(byte[] input) (ë¼ì¸ ì•½ 450-550)                     â”‚
â”‚                                                             â”‚
â”‚ 1. í—¤ë” íŒŒì‹±: Type, Priority, Timestamp, Seq, Total         â”‚
â”‚ 2. Fragment ì¬ì¡°ë¦½ (í•„ìš”ì‹œ)                                 â”‚
â”‚ 3. XOR ë³µí˜¸í™” (ì•”í˜¸í™” í”Œë˜ê·¸ í™•ì¸)                          â”‚
â”‚ 4. UTF-8 ë””ì½”ë”©: new String(data, UTF_8)                    â”‚
â”‚ 5. ìš°ì„ ìˆœìœ„ íì— ì¶”ê°€: messageQueue.offer(message)          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ChatAppLayer.java                                           â”‚
â”‚ ë©”ì‹œì§€ ì²˜ë¦¬ ìŠ¤ë ˆë“œ (startMessageProcessor)                  â”‚
â”‚                                                             â”‚
â”‚ while (running) {                                           â”‚
â”‚     PrioritizedMessage msg = messageQueue.take();           â”‚
â”‚     // ìš°ì„ ìˆœìœ„ ìˆœì„œëŒ€ë¡œ êº¼ëƒ„                               â”‚
â”‚     onReceiveCallback.accept(msg.text);                     â”‚
â”‚ }                                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ NetworkChatApp.java                                         â”‚
â”‚ ì½œë°± í•¨ìˆ˜ (initializeLayersì—ì„œ ë“±ë¡)                       â”‚
â”‚                                                             â”‚
â”‚ chatLayer = new ChatAppLayer(message -> {                   â”‚
â”‚     logToUI("[ìˆ˜ì‹ ] " + message);  â†’ UIì— í‘œì‹œ             â”‚
â”‚ });                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 3ï¸âƒ£ ARP Request ì „ì†¡ (ARP Request ë²„íŠ¼ í´ë¦­)

### í˜¸ì¶œ ìˆœì„œ

```
[ì‚¬ìš©ì í´ë¦­: "ARP Request" ë²„íŠ¼]
        â”‚
        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ NetworkChatApp.java                                         â”‚
â”‚ handleArpRequest() (ë¼ì¸ ì•½ 1001-1030)                      â”‚
â”‚                                                             â”‚
â”‚ 1. parseIpAddress(dstIpField.getText(), targetIp)           â”‚
â”‚ 2. ethernetLayer.setDstMac(broadcast)  â†’ FF:FF:FF:FF:FF:FF â”‚
â”‚ 3. ethernetLayer.setEtherType(0x0806)  â†’ ARP               â”‚
â”‚ 4. arpLayer.sendArpRequest(targetIp)   â†’ ì—¬ê¸°ì„œ í˜¸ì¶œ!      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ARPLayer.java                                               â”‚
â”‚ sendArpRequest(byte[] targetIp) (ë¼ì¸ ì•½ 150-190)           â”‚
â”‚                                                             â”‚
â”‚ 1. ARP íŒ¨í‚· ìƒì„± (28ë°”ì´íŠ¸):                                â”‚
â”‚    - Hardware Type = 0x0001 (Ethernet)                      â”‚
â”‚    - Protocol Type = 0x0800 (IPv4)                          â”‚
â”‚    - Operation = 1 (Request)                                â”‚
â”‚    - Sender MAC, Sender IP (ìì‹ )                           â”‚
â”‚    - Target MAC = 00:00:00:00:00:00                         â”‚
â”‚    - Target IP (ëª©í‘œ IP)                                    â”‚
â”‚ 2. underLayer.Send(arpPacket, 28) â†’ EthernetLayer í˜¸ì¶œ!    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                             â–¼
              [ EthernetLayer â†’ PhysicalLayer â†’ ë„¤íŠ¸ì›Œí¬ ]
                             â”‚
                             â–¼
                    ë¸Œë¡œë“œìºìŠ¤íŠ¸ë¡œ ì „ì†¡ë¨
                    (ëª¨ë“  í˜¸ìŠ¤íŠ¸ê°€ ìˆ˜ì‹ )
```

---

## 4ï¸âƒ£ ARP Reply ìˆ˜ì‹  (ìë™ - ë°±ê·¸ë¼ìš´ë“œ)

### í˜¸ì¶œ ìˆœì„œ

```
        [ ARP Reply íŒ¨í‚· ë„ì°© ]
                â”‚
                â–¼
    PhysicalLayer.Receive() â†’ EthernetLayer.Receive()
                â”‚
                â”‚ (EtherType = 0x0806)
                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ARPLayer.java                                               â”‚
â”‚ Receive(byte[] input) (ë¼ì¸ ì•½ 200-280)                     â”‚
â”‚                                                             â”‚
â”‚ 1. Operation í™•ì¸: input[6..7]                              â”‚
â”‚    - 1 = Request â†’ ìì‹ ì—ê²Œ ì˜¨ ê²ƒì´ë©´ Reply ì „ì†¡           â”‚
â”‚    - 2 = Reply â†’ ARP ìºì‹œì— ì €ì¥                           â”‚
â”‚                                                             â”‚
â”‚ 2. Replyì¸ ê²½ìš°:                                            â”‚
â”‚    - Sender IP, Sender MAC ì¶”ì¶œ                             â”‚
â”‚    - arpCache.put(senderIp, senderMac)                      â”‚
â”‚    - ì½œë°± í˜¸ì¶œ: onArpResolved                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 5ï¸âƒ£ íŒŒì¼ ì„ íƒ (íŒŒì¼ ì„ íƒ ë²„íŠ¼ í´ë¦­)

### í˜¸ì¶œ ìˆœì„œ

```
[ì‚¬ìš©ì í´ë¦­: "íŒŒì¼ ì„ íƒ" ë²„íŠ¼]
        â”‚
        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ NetworkChatApp.java                                         â”‚
â”‚ handleBrowseFile() (ë¼ì¸ ì•½ 918-927)                        â”‚
â”‚                                                             â”‚
â”‚ JFileChooser fileChooser = new JFileChooser();              â”‚
â”‚ int result = fileChooser.showOpenDialog(null);              â”‚
â”‚ if (result == APPROVE_OPTION) {                             â”‚
â”‚     File selectedFile = fileChooser.getSelectedFile();      â”‚
â”‚     filePathField.setText(selectedFile.getAbsolutePath());  â”‚
â”‚ }                                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
                    â–¼
              [ íŒŒì¼ ê²½ë¡œë§Œ í‘œì‹œë¨ ]
              [ ì‹¤ì œ ì „ì†¡ì€ "íŒŒì¼ ì „ì†¡" ë²„íŠ¼ í•„ìš” ]
```

---

## 6ï¸âƒ£ íŒŒì¼ ì „ì†¡ (íŒŒì¼ ì „ì†¡ ë²„íŠ¼ í´ë¦­)

### í˜¸ì¶œ ìˆœì„œ

```
[ì‚¬ìš©ì í´ë¦­: "íŒŒì¼ ì „ì†¡" ë²„íŠ¼]
        â”‚
        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ NetworkChatApp.java                                         â”‚
â”‚ handleSendFile() (ë¼ì¸ ì•½ 932-997)                          â”‚
â”‚                                                             â”‚
â”‚ 1. íŒŒì¼ ê²½ë¡œ ê²€ì¦                                           â”‚
â”‚ 2. ipLayer.useFileProtocol()  â†’ í”„ë¡œí† ì½œ 254 ì„¤ì •          â”‚
â”‚ 3. ì§„í–‰ë¥  ì½œë°± ì„¤ì •: fileLayer.setOnSendProgress(...)       â”‚
â”‚ 4. ìƒˆ ìŠ¤ë ˆë“œì—ì„œ ì „ì†¡:                                      â”‚
â”‚    - fileLayer.sendFile(file)  â†’ ì—¬ê¸°ì„œ í˜¸ì¶œ!              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ FileAppLayer.java                                           â”‚
â”‚ sendFile(File file) (ë¼ì¸ ì•½ 100-180)                       â”‚
â”‚                                                             â”‚
â”‚ 1. FILE_START íŒ¨í‚· ì „ì†¡:                                    â”‚
â”‚    - íŒŒì¼ëª…, íŒŒì¼ í¬ê¸°, ì´ Fragment ìˆ˜                      â”‚
â”‚    - lowerLayer.Send(startPacket)                           â”‚
â”‚                                                             â”‚
â”‚ 2. FILE_DATA íŒ¨í‚· ì „ì†¡ (ë°˜ë³µ):                              â”‚
â”‚    - 1KBì”© ì½ì–´ì„œ ì „ì†¡                                      â”‚
â”‚    - ì§„í–‰ë¥  ì½œë°± í˜¸ì¶œ                                       â”‚
â”‚    - lowerLayer.Send(dataPacket)                            â”‚
â”‚                                                             â”‚
â”‚ 3. FILE_END íŒ¨í‚· ì „ì†¡:                                      â”‚
â”‚    - ì „ì†¡ ì™„ë£Œ ì•Œë¦¼                                         â”‚
â”‚    - lowerLayer.Send(endPacket)                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                             â–¼
        [ IPLayer â†’ EthernetLayer â†’ PhysicalLayer â†’ ë„¤íŠ¸ì›Œí¬ ]
```

---

## 7ï¸âƒ£ Gratuitous ARP ì „ì†¡ (ë²„íŠ¼ í´ë¦­)

### í˜¸ì¶œ ìˆœì„œ

```
[ì‚¬ìš©ì í´ë¦­: "Gratuitous ARP" ë²„íŠ¼]
        â”‚
        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ NetworkChatApp.java                                         â”‚
â”‚ handleGratuitousArp() (ë¼ì¸ ì•½ 1035-1055)                   â”‚
â”‚                                                             â”‚
â”‚ 1. ethernetLayer.setDstMac(broadcast)                       â”‚
â”‚ 2. ethernetLayer.setEtherType(0x0806)                       â”‚
â”‚ 3. arpLayer.sendGratuitousArp()  â†’ ì—¬ê¸°ì„œ í˜¸ì¶œ!            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ARPLayer.java                                               â”‚
â”‚ sendGratuitousArp() (ë¼ì¸ ì•½ 130-150)                       â”‚
â”‚                                                             â”‚
â”‚ - ARP Request ì „ì†¡                                          â”‚
â”‚ - Sender IP = Target IP = ìì‹ ì˜ IP                         â”‚
â”‚ - ëª©ì : "ì´ IPëŠ” ë‚´ ê²ƒì´ì•¼" ì•Œë¦¼ (ìºì‹œ ì—…ë°ì´íŠ¸ ìœ ë„)       â”‚
â”‚ - underLayer.Send(arpPacket, 28)                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 8ï¸âƒ£ ì•”í˜¸í™” ì²´í¬ë°•ìŠ¤ í† ê¸€

### í˜¸ì¶œ ìˆœì„œ

```
[ì‚¬ìš©ì í† ê¸€: "ì•”í˜¸í™”" ì²´í¬ë°•ìŠ¤]
        â”‚
        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ NetworkChatApp.java                                         â”‚
â”‚ encryptCheckbox.addActionListener (ë¼ì¸ ì•½ 370-374)         â”‚
â”‚                                                             â”‚
â”‚ if (chatLayer != null) {                                    â”‚
â”‚     chatLayer.setEncryptionEnabled(encryptCheckbox.isSelected()); â”‚
â”‚ }                                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ChatAppLayer.java                                           â”‚
â”‚ setEncryptionEnabled(boolean enabled)                       â”‚
â”‚                                                             â”‚
â”‚ this.encryptionEnabled = enabled;                           â”‚
â”‚ // ì´í›„ sendMessage() í˜¸ì¶œ ì‹œ XOR ì•”í˜¸í™” ì ìš©               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 9ï¸âƒ£ ìš°ì„ ìˆœìœ„ ë³€ê²½ (ì½¤ë³´ë°•ìŠ¤ ì„ íƒ)

### í˜¸ì¶œ ìˆœì„œ

```
[ì‚¬ìš©ì ì„ íƒ: ìš°ì„ ìˆœìœ„ "ê¸´ê¸‰"]
        â”‚
        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ NetworkChatApp.java                                         â”‚
â”‚ priorityComboBox.addActionListener (ë¼ì¸ ì•½ 396-406)        â”‚
â”‚                                                             â”‚
â”‚ int idx = priorityComboBox.getSelectedIndex();              â”‚
â”‚ Priority priority = switch(idx) {                           â”‚
â”‚     case 0 -> Priority.NORMAL;                              â”‚
â”‚     case 1 -> Priority.HIGH;                                â”‚
â”‚     case 2 -> Priority.LOW;                                 â”‚
â”‚ };                                                          â”‚
â”‚ chatLayer.setPriority(priority);                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ChatAppLayer.java                                           â”‚
â”‚ setPriority(Priority priority)                              â”‚
â”‚                                                             â”‚
â”‚ this.currentPriority = priority;                            â”‚
â”‚ // ì´í›„ sendMessage() í˜¸ì¶œ ì‹œ:                              â”‚
â”‚ // 1. IPLayer.setPriority(priority) í˜¸ì¶œ                    â”‚
â”‚ // 2. íŒ¨í‚· í—¤ë”ì— priority ê°’ í¬í•¨                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”Ÿ ë°ëª¨ ëª¨ë“œ í† ê¸€

### í˜¸ì¶œ ìˆœì„œ

```
[ì‚¬ìš©ì í† ê¸€: "ë°ëª¨ëª¨ë“œ" ì²´í¬ë°•ìŠ¤]
        â”‚
        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ NetworkChatApp.java                                         â”‚
â”‚ demoModeCheckbox.addActionListener (ë¼ì¸ ì•½ 383-387)        â”‚
â”‚                                                             â”‚
â”‚ if (chatLayer != null) {                                    â”‚
â”‚     chatLayer.setDemoMode(demoModeCheckbox.isSelected());   â”‚
â”‚ }                                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ChatAppLayer.java                                           â”‚
â”‚ setDemoMode(boolean enabled)                                â”‚
â”‚                                                             â”‚
â”‚ this.demoMode = enabled;                                    â”‚
â”‚ // ë©”ì‹œì§€ ì²˜ë¦¬ ì‹œ 800ms~1500ms ì¸ìœ„ì  ì§€ì—° ì¶”ê°€             â”‚
â”‚ // ìš°ì„ ìˆœìœ„ í ì¬ì •ë ¬ íš¨ê³¼ë¥¼ ì‹œê°ì ìœ¼ë¡œ í™•ì¸ ê°€ëŠ¥           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“Š ì „ì²´ ìš”ì•½í‘œ

| ê¸°ëŠ¥ | ì‹œì‘ì  (NetworkChatApp) | í•µì‹¬ ê³„ì¸µ | ìµœì¢… ë„ì°© |
|------|-------------------------|-----------|-----------|
| ë©”ì‹œì§€ ì „ì†¡ | handleSendMessage() | ChatAppLayer.sendMessage() | PhysicalLayer |
| ë©”ì‹œì§€ ìˆ˜ì‹  | (ì½œë°±) | ChatAppLayer.Receive() | UI í‘œì‹œ |
| ARP Request | handleArpRequest() | ARPLayer.sendArpRequest() | ë¸Œë¡œë“œìºìŠ¤íŠ¸ |
| ARP Reply ìˆ˜ì‹  | (ìë™) | ARPLayer.Receive() | ARP ìºì‹œ |
| íŒŒì¼ ì„ íƒ | handleBrowseFile() | - | ê²½ë¡œ í‘œì‹œ |
| íŒŒì¼ ì „ì†¡ | handleSendFile() | FileAppLayer.sendFile() | PhysicalLayer |
| ì•”í˜¸í™” ì„¤ì • | encryptCheckbox | ChatAppLayer.setEncryptionEnabled() | ë‚´ë¶€ í”Œë˜ê·¸ |
| ìš°ì„ ìˆœìœ„ ì„¤ì • | priorityComboBox | ChatAppLayer.setPriority() | íŒ¨í‚· í—¤ë” |
| ë°ëª¨ ëª¨ë“œ | demoModeCheckbox | ChatAppLayer.setDemoMode() | ì²˜ë¦¬ ì§€ì—° |

---

## â“ í•µì‹¬ Q&A

### Q: ChatAppLayerëŠ” ì–´ë””ì„œ í˜¸ì¶œë˜ë‚˜ìš”?
**A**: `NetworkChatApp.handleSendMessage()`ì—ì„œ `chatLayer.sendMessage(message)`ë¡œ í˜¸ì¶œë©ë‹ˆë‹¤.

### Q: ìˆ˜ì‹ ì€ ì–´ë–»ê²Œ ì‹œì‘ë˜ë‚˜ìš”?
**A**: `PhysicalLayer.run()` ë©”ì„œë“œê°€ ë³„ë„ ìŠ¤ë ˆë“œì—ì„œ ê³„ì† `pcap.dispatch()`ë¥¼ í˜¸ì¶œí•˜ë©° íŒ¨í‚·ì„ ê°ì‹œí•©ë‹ˆë‹¤.

### Q: ì—­ë‹¤ì¤‘í™”ëŠ” ì–´ë””ì„œ ì¼ì–´ë‚˜ë‚˜ìš”?
**A**: 
- **EthernetLayer**: EtherTypeìœ¼ë¡œ IP(0x0800) vs ARP(0x0806) êµ¬ë¶„
- **IPLayer**: Protocol ë²ˆí˜¸ë¡œ Chat(253) vs File(254) êµ¬ë¶„

### Q: ì½œë°±ì€ ì–¸ì œ ë“±ë¡ë˜ë‚˜ìš”?
**A**: `NetworkChatApp.initializeLayers()`ì—ì„œ ChatAppLayer ìƒì„± ì‹œ ëŒë‹¤ë¡œ ì „ë‹¬ë©ë‹ˆë‹¤:
```java
chatLayer = new ChatAppLayer(message -> {
    logToUI("[ìˆ˜ì‹ ] " + message);
});
```
