# ë„¤íŠ¸ì›Œí¬ ì±„íŒ… í”„ë¡œê·¸ë¨ - ìµœì¢… ë²„ì „ â­

1> OSI 7ê³„ì¸µ í”„ë¡œí† ì½œ ìŠ¤íƒì„ ì§ì ‘ êµ¬í˜„í•œ íŒ¨í‚· ê¸°ë°˜ ì±„íŒ…/íŒŒì¼ ì „ì†¡ í”„ë¡œê·¸ë¨  
> 3ê°€ì§€ ìƒˆ ê¸°ëŠ¥: **XOR ì•”í˜¸í™”**, **ìš°ì„ ìˆœìœ„ í**, **íƒ€ì„ìŠ¤íƒ¬í”„/ë¡œê¹…**

## ğŸš€ ì‹¤í–‰ ë°©ë²•

### ë¡œì»¬ ì‹¤í–‰ (macOS/Linux)
```bash
sudo ./run.sh
```
> âš ï¸ íŒ¨í‚· ìº¡ì²˜ë¥¼ ìœ„í•´ ê´€ë¦¬ì ê¶Œí•œ(sudo) í•„ìš”

### Docker ì‹¤í–‰
```bash
docker-compose up --build
```

## â­ ìµœì¢… í”„ë¡œì íŠ¸: Last

![UI Screenshot](UI.png)

### ìƒˆë¡œìš´ ê¸°ëŠ¥ (3ê°€ì§€)

| ê¸°ëŠ¥ | êµ¬í˜„ ìœ„ì¹˜ | ì„¤ëª… |
|------|----------|------|
| ğŸ”’ **ì•”í˜¸í™” í†µì‹ ** | ChatAppLayer | XOR ì•”í˜¸í™” (í‚¤: 0x42), í—¤ë” í”Œë˜ê·¸ë¡œ ì•”í˜¸í™” ì—¬ë¶€ í‘œì‹œ |
| âš¡ **ìš°ì„ ìˆœìœ„ í** | IPLayer + ChatAppLayer | TOS í•„ë“œ í™œìš© (HIGH=0xE0, NORMAL=0x00, LOW=0x20) |
| ğŸ“Š **íƒ€ì„ìŠ¤íƒ¬í”„/ë¡œê¹…** | ChatAppLayer | 8ë°”ì´íŠ¸ íƒ€ì„ìŠ¤íƒ¬í”„, ì§€ì—°ì‹œê°„ ì¸¡ì •, packet.log ê¸°ë¡ |

## ğŸ“¦ íŒ¨í‚· í—¤ë” êµ¬ì¡°
```
[Type+Flag(1B)] [Priority(1B)] [Timestamp(8B)] [Seq(4B)] [Total(4B)] [Data]
     â”‚               â”‚              â”‚             â”‚           â”‚
     â”‚               â”‚              â”‚             â”‚           â””â”€ Fragment ì´ ê°œìˆ˜
     â”‚               â”‚              â”‚             â””â”€ Fragment ìˆœì„œ ë²ˆí˜¸
     â”‚               â”‚              â””â”€ ì „ì†¡ ì‹œê° (ms)
     â”‚               â””â”€ ìš°ì„ ìˆœìœ„ (0=HIGH, 1=NORMAL, 2=LOW)
     â””â”€ ìƒìœ„ 1ë¹„íŠ¸: ì•”í˜¸í™” í”Œë˜ê·¸, í•˜ìœ„ 7ë¹„íŠ¸: ë©”ì‹œì§€ íƒ€ì…
```

## ğŸ§ª í…ŒìŠ¤íŠ¸
```bash
mvn test
# Tests: 25, Failures: 0 âœ…
```

| í…ŒìŠ¤íŠ¸ í´ë˜ìŠ¤ | í…ŒìŠ¤íŠ¸ ìˆ˜ | ë‚´ìš© |
|--------------|----------|------|
| NewFeaturesTest | 14 | ì•”í˜¸í™”, ìš°ì„ ìˆœìœ„, íƒ€ì„ìŠ¤íƒ¬í”„ |
| ChatAppLayerTest | 5 | ì±„íŒ… ë©”ì‹œì§€ ì†¡ìˆ˜ì‹  |
| FileAppLayerTest | 3 | íŒŒì¼ ì „ì†¡ ê¸°ëŠ¥ |
| IPLayerDemuxTest | 3 | IP í”„ë¡œí† ì½œ ì—­ë‹¤ì¤‘í™” |

## ğŸ“ í”„ë¡œì íŠ¸ êµ¬ì¡°
```
src/main/java/com/demo/
â”œâ”€â”€ NetworkChatApp.java  # ë©”ì¸ GUI ì• í”Œë¦¬ì¼€ì´ì…˜ (Swing)
â”œâ”€â”€ ChatAppLayer.java    # ì±„íŒ… ì‘ìš© ê³„ì¸µ (L7) - ì•”í˜¸í™”, ìš°ì„ ìˆœìœ„, íƒ€ì„ìŠ¤íƒ¬í”„
â”œâ”€â”€ FileAppLayer.java    # íŒŒì¼ ì „ì†¡ ì‘ìš© ê³„ì¸µ (L7)
â”œâ”€â”€ IPLayer.java         # IP ê³„ì¸µ (L3) - TOS ìš°ì„ ìˆœìœ„
â”œâ”€â”€ ARPLayer.java        # ARP ê³„ì¸µ (L2) - IPâ†’MAC ì£¼ì†Œ ë³€í™˜
â”œâ”€â”€ EthernetLayer.java   # ì´ë”ë„· ê³„ì¸µ (L2) - í”„ë ˆì„ ìƒì„±/íŒŒì‹±
â”œâ”€â”€ PhysicalLayer.java   # ë¬¼ë¦¬ ê³„ì¸µ (L1) - jNetPcap ì—°ë™
â””â”€â”€ BaseLayer.java       # ê³„ì¸µ ì¸í„°í˜ì´ìŠ¤
```

## ğŸ³ Docker ì‹¤í–‰ ëª¨ë“œ
```bash
# ë°ëª¨ ì‹¤í–‰ (ê¸°ë³¸)
docker run --rm network-chat:latest

# í…ŒìŠ¤íŠ¸ ì‹¤í–‰
docker run --rm -e APP_MODE=test network-chat:latest

# ì¸í„°ë™í‹°ë¸Œ ëª¨ë“œ
docker run --rm -it -e APP_MODE=interactive network-chat:latest
```

## âš ï¸ ìš”êµ¬ì‚¬í•­
- **Java 21+** (--enable-preview í•„ìš”)
- **ê´€ë¦¬ì ê¶Œí•œ** (sudo) ë˜ëŠ” Docker
- **libpcap** (ë¡œì»¬ ì‹¤í–‰ ì‹œ)
- **jNetPcap 2.3.1** (lib í´ë”ì— í¬í•¨)

---

## ğŸ“– ë¬¸ì„œ ëª©ë¡

| ë¬¸ì„œ | ì„¤ëª… |
|------|------|
| [DOCUMENTATION.md](./DOCUMENTATION.md) | ğŸ“š **í”„ë¡œê·¸ë¨ ìƒì„¸ ë¬¸ì„œ** - OSI ê³„ì¸µ êµ¬ì¡°, íŒ¨í‚· ë¶„ì„, ì•Œê³ ë¦¬ì¦˜, ë°ì´í„° íë¦„ ë“± |
| [WINDOWS_GUIDE.md](./WINDOWS_GUIDE.md) | ğŸªŸ **Windows ì‹¤í–‰ ê°€ì´ë“œ** - Docker, WSL2, ë„¤ì´í‹°ë¸Œ ì‹¤í–‰ ë°©ë²• |
