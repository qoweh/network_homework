실습 4: 컴퓨터네트워크
파일전송을 포함하는 채팅프로그램

목차
◈ 파일전송 개요 - 단편화
◈ 채팅 및 파일 전송을 위한 계층구조
◈ 프로그래밍 가이드라인


### 파일 전송을 위한 요구사항
❖ 파일 사이즈에 제한 없이 전송 가능 ➔ fragmentation
❖ 파일을 전송하는 동안 채팅 메시지 전송 가능 ➔ thread


### Fragmentation을위한 파일 전송 프로토콜
❖ 첫번째 메시지 : 파일 이름과 파일 크기 전송
    → 수신자 : 파일 이름에 해당하는 파일을 열고 파일 크기 만큼의 버퍼 할당
❖ 중간 메시지 : 파일 내용 전송
❖ 마지막 메시지 : 파일 내용이 모두 전송되었음을 알림
    → 수신자 : 파일을 닫고 파일이 정상적으로 수신되었음을 알림

헤더(메시지, 타입 순서 번호) + 데이터

❖ 채팅도 fragmentation 필요



### 파일 전송을 포함하는 채팅 프로그램 계층 구조
메인 프로그램
채팅 앱 계층 (ChatApp Layer)
파일 앱 계층 (FileApp Layer)
IP 계층 (IP Layer)
ARP 계층 (ARP Layer)
이더넷 계층 (Ethernet Layer)
물리계층 (Physical Layer)

### IP의 역다중화 (Protocol 필드 )


프로그래밍 가이드라인

###  요구사항
❖ FileApp 계층 추가 (계층 구조 참조하여 IP에서 역다중화 수행 )
❖ FileApp과 ChatApp의 헤더를 설계하여 Fragmentation 구현
❖ 파일 전송 중 채팅 메시지 전송 및 다른 호스트로부터의 메시지 수신이 가능하도록 스레드 구현
◈ 파일 전송을 포함한 채팅 프로그램 구현
❖ 파일 앱 계층 추가 및 IP 계층의 역 다중화 구현
❖ Fragmentation 및 thread 구현
❖ 보고서 제출(IP 역다중화 , Fragmentation, thread 관련 코드 설명 + 실행 화면 및 Wireshark 캡처 화면)